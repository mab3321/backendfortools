<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Add Product Form</title>
    <!-- Bootstrap CSS -->
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css">
    <!-- Font Awesome Icons -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.1/css/all.min.css">
</head>

<body>
    <div class="container mt-5">
        <h2>Add Product</h2>
        <form id="addProductForm">
            <div class="form-group">
                <label for="id">ID:</label>
                <input type="number" class="form-control" id="id" required>
            </div>
            <div class="form-group">
                <label for="name">Name:</label>
                <input type="text" class="form-control" id="name" required>
            </div>
            <div class="form-group">
                <label for="description">Description:</label>
                <textarea class="form-control" id="description" rows="3" required></textarea>
            </div>
            <div class="form-group">
                <label for="hiddenText">Hidden Text:</label>
                <input type="text" class="form-control" id="hiddenText" required>
            </div>
            <div class="form-group">
                <label for="imageUrl">Image URL:</label>
                <input type="text" class="form-control" id="imageUrl" required>
            </div>
            <button type="button" class="btn btn-primary" onclick="addProduct()">Add Product</button>
        </form>
    </div>

    <!-- Bootstrap JS and jQuery -->
    <script src="https://code.jquery.com/jquery-3.5.1.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.9.3/dist/umd/popper.min.js"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>

    <script>
        function addProduct() {
            // Get values from form
            var id = $("#id").val();
            var name = $("#name").val();
            var description = $("#description").val();
            var hiddenText = $("#hiddenText").val();
            var imageUrl = $("#imageUrl").val();

            // Prepare data as JSON
            var data = {
                "id": id,
                "name": name,
                "description": description,
                "hidden_text": hiddenText,  // Use snake_case to match Python convention
                "image_url": imageUrl
            };

            // Make AJAX request to your Flask endpoint
            $.ajax({
                type: "POST",
                url: "http://127.0.0.1:14464/api/add_product",
                contentType: "application/json",
                data: JSON.stringify(data),
                success: function (response) {
                    alert("Product added successfully!");
                    // You can do additional handling here if needed
                },
                error: function (error) {
                    alert("Error adding product: " + JSON.stringify(error));
                }
            });
        }
    </script>
</body>

</html>